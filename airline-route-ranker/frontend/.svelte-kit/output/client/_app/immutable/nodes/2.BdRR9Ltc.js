import{t as C,a as S}from"../chunks/CyzHKt0c.js";import"../chunks/BK4PQmFm.js";import{s as se,h as St,a0 as je,$ as Oe,a as $e,b as ze,n as t,K as st,c as Ve,r as ke,d as oe,g as Vt,af as Je,e as De,f as Be,p as We,ai as Me,ab as Ye,W as A,au as Ae,av as le,a2 as Ie,aw as Xe,ax as Ze,ay as Qe,a5 as qe,az as ta,aA as ea,aB as aa,aC as na,ad as ra,D as ia,l as sa,F as oa,o as ot,aD as la,x as he,y as $,z as pe,C as l,A as a,B as e,O as c,Y as Q,Z as Le,w as Jt,_ as Wt}from"../chunks/2EktXFFV.js";import{e as ct,s as k}from"../chunks/e9gZCKO6.js";import{i as N}from"../chunks/C3XHkgg4.js";import{b as Pe,d as lt,s as Yt,r as He,f as ca,e as da,g as ua}from"../chunks/PB4ftuIl.js";import{i as fe}from"../chunks/DGHgkxxj.js";import{o as va}from"../chunks/DH45dyJF.js";import{p as gt,b as ha}from"../chunks/WA5n7srb.js";function Ee(h,o){return o}function pa(h,o,r,s){for(var b=[],d=o.length,m=0;m<d;m++)Qe(o[m].e,b,!0);var w=d>0&&b.length===0&&r!==null;if(w){var I=r.parentNode;qe(I),I.append(r),s.clear(),mt(h,o[0].prev,o[d-1].next)}ta(b,()=>{for(var f=0;f<d;f++){var v=o[f];w||(s.delete(v.k),mt(h,v.prev,v.next)),ea(v.e,!w)}})}function ve(h,o,r,s,b,d=null){var m=h,w={flags:o,items:new Map,first:null};{var I=h;m=St?se(je(I)):I.appendChild(Oe())}St&&$e();var f=null,v=!1,_=st(()=>{var y=r();return Ye(y)?y:y==null?[]:Me(y)});ze(()=>{var y=t(_),g=y.length;if(v&&g===0)return;v=g===0;let n=!1;if(St){var z=m.data===Ve;z!==(g===0)&&(m=ke(),se(m),oe(!1),n=!0)}if(St){for(var K=null,D,H=0;H<g;H++){if(Vt.nodeType===8&&Vt.data===Je){m=Vt,n=!0,oe(!1);break}var Y=y[H],F=s(Y,H);D=Re(Vt,w,K,null,Y,F,H,b,o,r),w.items.set(F,D),K=D}g>0&&se(ke())}St||fa(y,w,m,b,o,s,r),d!==null&&(g===0?f?De(f):f=Be(()=>d(m)):f!==null&&We(f,()=>{f=null})),n&&oe(!0),t(_)}),St&&(m=Vt)}function fa(h,o,r,s,b,d,m){var w=h.length,I=o.items,f=o.first,v=f,_,y=null,g=[],n=[],z,K,D,H;for(H=0;H<w;H+=1){if(z=h[H],K=d(z,H),D=I.get(K),D===void 0){var Y=v?v.e.nodes_start:r;y=Re(Y,o,y,y===null?o.first:y.next,z,K,H,s,b,m),I.set(K,y),g=[],n=[],v=y.next;continue}if(ya(D,z,H),(D.e.f&le)!==0&&De(D.e),D!==v){if(_!==void 0&&_.has(D)){if(g.length<n.length){var F=n[0],J;y=F.prev;var rt=g[0],X=g[g.length-1];for(J=0;J<g.length;J+=1)Se(g[J],F,r);for(J=0;J<n.length;J+=1)_.delete(n[J]);mt(o,rt.prev,X.next),mt(o,y,rt),mt(o,X,F),v=F,y=X,H-=1,g=[],n=[]}else _.delete(D),Se(D,v,r),mt(o,D.prev,D.next),mt(o,D,y===null?o.first:y.next),mt(o,y,D),y=D;continue}for(g=[],n=[];v!==null&&v.k!==K;)(v.e.f&le)===0&&(_??(_=new Set)).add(v),n.push(v),v=v.next;if(v===null)continue;D=v}g.push(D),y=D,v=D.next}if(v!==null||_!==void 0){for(var q=_===void 0?[]:Me(_);v!==null;)(v.e.f&le)===0&&q.push(v),v=v.next;var E=q.length;if(E>0){var ut=w===0?r:null;pa(o,q,ut,I)}}Ie.first=o.first&&o.first.e,Ie.last=y&&y.e}function ya(h,o,r,s){Ze(h.v,o),h.i=r}function Re(h,o,r,s,b,d,m,w,I,f){var v=(I&aa)!==0,_=(I&na)===0,y=v?_?A(b):Ae(b):b,g=(I&Xe)===0?m:Ae(m),n={i:g,v:y,k:d,a:null,e:null,prev:r,next:s};try{return n.e=Be(()=>w(h,y,g,f),St),n.e.prev=r&&r.e,n.e.next=s&&s.e,r===null?o.first=n:(r.next=n,r.e.next=n.e),s!==null&&(s.prev=n,s.e.prev=n.e),n}finally{}}function Se(h,o,r){for(var s=h.next?h.next.e.nodes_start:r,b=o?o.e.nodes_start:r,d=h.e.nodes_start;d!==s;){var m=ra(d);b.before(d),d=m}}function mt(h,o,r){o===null?h.first=r:(o.next=r,o.e.next=r&&r.e),r!==null&&(r.prev=o,r.e.prev=o&&o.e)}function ma(h,o,r){ia(()=>{var s=sa(()=>o(h,r==null?void 0:r())||{});if(r&&(s!=null&&s.update)){var b=!1,d={};oa(()=>{var m=r();ot(m),b&&la(d,m)&&(d=m,s.update(m))}),b=!0}if(s!=null&&s.destroy)return()=>s.destroy()})}function ce(h,o){const r=s=>{h&&!h.contains(s.target)&&!s.defaultPrevented&&o()};return document.addEventListener("click",r,!0),{destroy(){document.removeEventListener("click",r,!0)}}}const de=[{iata:"ATL",name:"Hartsfield-Jackson Atlanta International Airport",city:"Atlanta",country:"United States"},{iata:"PEK",name:"Beijing Capital International Airport",city:"Beijing",country:"China"},{iata:"LAX",name:"Los Angeles International Airport",city:"Los Angeles",country:"United States"},{iata:"HND",name:"Tokyo Haneda Airport",city:"Tokyo",country:"Japan"},{iata:"DXB",name:"Dubai International Airport",city:"Dubai",country:"United Arab Emirates"},{iata:"ORD",name:"O'Hare International Airport",city:"Chicago",country:"United States"},{iata:"LHR",name:"Heathrow Airport",city:"London",country:"United Kingdom"},{iata:"PVG",name:"Shanghai Pudong International Airport",city:"Shanghai",country:"China"},{iata:"CDG",name:"Charles de Gaulle Airport",city:"Paris",country:"France"},{iata:"DFW",name:"Dallas/Fort Worth International Airport",city:"Dallas",country:"United States"},{iata:"CAN",name:"Guangzhou Baiyun International Airport",city:"Guangzhou",country:"China"},{iata:"AMS",name:"Amsterdam Airport Schiphol",city:"Amsterdam",country:"Netherlands"},{iata:"HKG",name:"Hong Kong International Airport",city:"Hong Kong",country:"China"},{iata:"ICN",name:"Incheon International Airport",city:"Seoul",country:"South Korea"},{iata:"FRA",name:"Frankfurt Airport",city:"Frankfurt",country:"Germany"},{iata:"DEL",name:"Indira Gandhi International Airport",city:"Delhi",country:"India"},{iata:"SIN",name:"Singapore Changi Airport",city:"Singapore",country:"Singapore"},{iata:"BKK",name:"Suvarnabhumi Airport",city:"Bangkok",country:"Thailand"},{iata:"JFK",name:"John F. Kennedy International Airport",city:"New York",country:"United States"},{iata:"DEN",name:"Denver International Airport",city:"Denver",country:"United States"},{iata:"SFO",name:"San Francisco International Airport",city:"San Francisco",country:"United States"},{iata:"MAD",name:"Adolfo Suárez Madrid–Barajas Airport",city:"Madrid",country:"Spain"},{iata:"LAS",name:"Harry Reid International Airport",city:"Las Vegas",country:"United States"},{iata:"BCN",name:"Barcelona–El Prat Airport",city:"Barcelona",country:"Spain"},{iata:"IST",name:"Istanbul Airport",city:"Istanbul",country:"Turkey"},{iata:"MUC",name:"Munich Airport",city:"Munich",country:"Germany"},{iata:"SYD",name:"Sydney Kingsford Smith Airport",city:"Sydney",country:"Australia"},{iata:"YYZ",name:"Toronto Pearson International Airport",city:"Toronto",country:"Canada"},{iata:"LGW",name:"Gatwick Airport",city:"London",country:"United Kingdom"},{iata:"MIA",name:"Miami International Airport",city:"Miami",country:"United States"},{iata:"LHE",name:"Allama Iqbal International Airport",city:"Lahore",country:"Pakistan"},{iata:"KHI",name:"Jinnah International Airport",city:"Karachi",country:"Pakistan"},{iata:"ISB",name:"Islamabad International Airport",city:"Islamabad",country:"Pakistan"},{iata:"PEW",name:"Peshawar International Airport",city:"Peshawar",country:"Pakistan"},{iata:"UET",name:"Quetta International Airport",city:"Quetta",country:"Pakistan"},{iata:"LYP",name:"Faisalabad International Airport",city:"Faisalabad",country:"Pakistan"},{iata:"MUX",name:"Multan International Airport",city:"Multan",country:"Pakistan"},{iata:"SKZ",name:"Sukkur Airport",city:"Sukkur",country:"Pakistan"},{iata:"GWD",name:"Gwadar International Airport",city:"Gwadar",country:"Pakistan"},{iata:"SKT",name:"Sialkot International Airport",city:"Sialkot",country:"Pakistan"},{iata:"EIN",name:"Eindhoven Airport",city:"Eindhoven",country:"Netherlands"},{iata:"BRU",name:"Brussels Airport",city:"Brussels",country:"Belgium"},{iata:"DUB",name:"Dublin Airport",city:"Dublin",country:"Ireland"},{iata:"CPH",name:"Copenhagen Airport",city:"Copenhagen",country:"Denmark"},{iata:"OSL",name:"Oslo Airport",city:"Oslo",country:"Norway"},{iata:"ARN",name:"Stockholm Arlanda Airport",city:"Stockholm",country:"Sweden"},{iata:"HEL",name:"Helsinki-Vantaa Airport",city:"Helsinki",country:"Finland"},{iata:"FCO",name:"Leonardo da Vinci International Airport",city:"Rome",country:"Italy"},{iata:"MXP",name:"Milan Malpensa Airport",city:"Milan",country:"Italy"},{iata:"VCE",name:"Venice Marco Polo Airport",city:"Venice",country:"Italy"},{iata:"ATH",name:"Athens International Airport",city:"Athens",country:"Greece"},{iata:"VIE",name:"Vienna International Airport",city:"Vienna",country:"Austria"},{iata:"ZRH",name:"Zurich Airport",city:"Zurich",country:"Switzerland"},{iata:"GVA",name:"Geneva Airport",city:"Geneva",country:"Switzerland"},{iata:"LIS",name:"Lisbon Airport",city:"Lisbon",country:"Portugal"},{iata:"OPO",name:"Porto Airport",city:"Porto",country:"Portugal"},{iata:"WAW",name:"Warsaw Chopin Airport",city:"Warsaw",country:"Poland"},{iata:"BUD",name:"Budapest Ferenc Liszt International Airport",city:"Budapest",country:"Hungary"},{iata:"PRG",name:"Václav Havel Airport Prague",city:"Prague",country:"Czech Republic"},{iata:"TXL",name:"Berlin Tegel Airport",city:"Berlin",country:"Germany"},{iata:"HAM",name:"Hamburg Airport",city:"Hamburg",country:"Germany"},{iata:"STR",name:"Stuttgart Airport",city:"Stuttgart",country:"Germany"},{iata:"DUS",name:"Düsseldorf Airport",city:"Düsseldorf",country:"Germany"},{iata:"CGN",name:"Cologne Bonn Airport",city:"Cologne",country:"Germany"},{iata:"NCE",name:"Nice Côte d'Azur Airport",city:"Nice",country:"France"},{iata:"MRS",name:"Marseille Provence Airport",city:"Marseille",country:"France"},{iata:"LYS",name:"Lyon-Saint Exupéry Airport",city:"Lyon",country:"France"},{iata:"TLS",name:"Toulouse-Blagnac Airport",city:"Toulouse",country:"France"},{iata:"BHD",name:"George Best Belfast City Airport",city:"Belfast",country:"United Kingdom"},{iata:"EDI",name:"Edinburgh Airport",city:"Edinburgh",country:"United Kingdom"},{iata:"GLA",name:"Glasgow Airport",city:"Glasgow",country:"United Kingdom"},{iata:"MAN",name:"Manchester Airport",city:"Manchester",country:"United Kingdom"},{iata:"BRS",name:"Bristol Airport",city:"Bristol",country:"United Kingdom"},{iata:"BHX",name:"Birmingham Airport",city:"Birmingham",country:"United Kingdom"},{iata:"SOF",name:"Sofia Airport",city:"Sofia",country:"Bulgaria"},{iata:"OTP",name:"Henri Coandă International Airport",city:"Bucharest",country:"Romania"},{iata:"KIV",name:"Chișinău International Airport",city:"Chișinău",country:"Moldova"},{iata:"KBP",name:"Boryspil International Airport",city:"Kyiv",country:"Ukraine"}];function ue(h,o){const r=[];for(let s=0;s<=o.length;s++)r[s]=[s];for(let s=0;s<=h.length;s++)r[0][s]=s;for(let s=1;s<=o.length;s++)for(let b=1;b<=h.length;b++){const d=h[b-1]===o[s-1]?0:1;r[s][b]=Math.min(r[s-1][b]+1,r[s][b-1]+1,r[s-1][b-1]+d)}return r[o.length][h.length]}function Te(h){if(!h)return[];if(h.length<=2){const d=h.toUpperCase();return de.filter(m=>m.iata.startsWith(d)||m.name.toUpperCase().includes(d)||m.city.toUpperCase().includes(d))}if(h.length===3){const d=de.find(m=>m.iata.toUpperCase()===h.toUpperCase());if(d)return[d]}const o=h.toUpperCase(),r=de.map(d=>{const m=d.iata.toUpperCase()===o,w=d.name.toUpperCase().startsWith(o),I=d.city.toUpperCase().startsWith(o),f=ue(o,d.iata.toUpperCase()),v=ue(o,d.name.toUpperCase()),_=ue(o,d.city.toUpperCase());let g=Math.min(f,v,_);return m&&(g-=10),w&&(g-=5),I&&(g-=5),{airport:d,score:g}}),s=h.length<=3?2:Math.ceil(h.length/2);return r.filter(d=>d.score<s+5).sort((d,m)=>d.score-m.score).map(d=>d.airport).slice(0,10)}function ga(h){if(!h||h.length<2)return null;const o=Te(h);return o.length>0?o[0]:null}var xa=C('<span class="absolute left-2 top-1/2 -translate-y-1/2"><img class="h-6 w-6"></span>'),ba=C('<button type="button" class="absolute right-3 top-1/2 -translate-y-1/2 text-xs text-sky-accent"> </button>'),_a=C('<button role="option"><div class="font-medium"> </div> <div class="text-sm text-gray-600"> </div></button>'),wa=C('<div class="absolute z-10 w-full mt-1 max-h-60 overflow-auto bg-white rounded-md shadow-lg"><ul role="listbox" aria-label="Airport suggestions" class="py-1"></ul></div>'),ka=C('<div class="relative w-full"><label class="block text-white text-sm font-bold mb-2 text-center"> </label> <div class="relative"><!> <input type="text" autocomplete="off" aria-autocomplete="list" aria-haspopup="listbox" role="combobox"> <!></div> <!></div>');function Ce(h,o){he(o,!1);let r=gt(o,"label",8,""),s=gt(o,"value",12,""),b=gt(o,"placeholder",8,""),d=gt(o,"icon",8,""),m=gt(o,"classes",8,""),w=A(""),I=A([]),f=A(!1),v=A(),_=A(-1),y=A(null);function g(x){x!==null&&z(x)}function n(x){const L=x.target;c(w,L.value),t(w).length>=1?(c(I,Te(t(w))),c(f,t(I).length>0),c(_,-1),c(y,ga(t(w)))):(c(I,[]),c(f,!1),c(y,null)),s(t(w).toUpperCase().replace(/[^A-Z]/g,""))}function z(x){s(x.iata),c(w,x.iata),c(f,!1),c(I,[]),c(y,null),t(v)&&t(v).focus()}function K(x){if(t(f))switch(x.key){case"ArrowDown":x.preventDefault(),c(_,Math.min(t(_)+1,t(I).length-1));break;case"ArrowUp":x.preventDefault(),c(_,Math.max(t(_)-1,-1));break;case"Enter":x.preventDefault(),t(_)>=0&&t(_)<t(I).length?z(t(I)[t(_)]):t(y)&&g(t(y));break;case"Escape":x.preventDefault(),c(f,!1);break}}function D(){setTimeout(()=>{t(y)&&t(w).length>=2&&t(w)!==s()&&(s(t(y).iata),c(w,t(y).iata)),c(f,!1)},200)}function H(){t(w).length>=1&&t(I).length>0&&c(f,!0)}fe();var Y=ka(),F=a(Y),J=a(F,!0);e(F);var rt=l(F,2),X=a(rt);{var q=x=>{var L=xa(),V=a(L);e(L),$(()=>{lt(V,"src",d()),lt(V,"alt",r())}),S(x,L)};N(X,x=>{d()&&x(q)})}var E=l(X,2);He(E),ha(E,x=>c(v,x),()=>t(v));var ut=l(E,2);{var Ct=x=>{var L=ba(),V=a(L);e(L),$(()=>k(V,`Did you mean ${t(y).iata??""}?`)),ct("click",L,()=>g(t(y))),ct("keydown",L,dt=>dt.key==="Enter"&&g(t(y))),S(x,L)};N(ut,x=>{t(y)&&t(w).length>=2&&t(w)!==t(y).iata&&!t(f)&&x(Ct)})}e(rt);var Dt=l(rt,2);{var xt=x=>{var L=wa(),V=a(L);ve(V,5,()=>t(I),Ee,(dt,tt,ht)=>{var W=_a(),pt=a(W),bt=a(pt,!0);e(pt);var Bt=l(pt,2),Rt=a(Bt);e(Bt),e(W),$(()=>{lt(W,"aria-selected",ht===t(_)),Yt(W,1,`px-3 py-2 cursor-pointer hover:bg-sky-50 ${(ht===t(_)?"bg-sky-100":"")??""} w-full text-left block`),k(bt,t(tt).iata),k(Rt,`${t(tt).city??""} - ${t(tt).name??""}`)}),ct("click",W,()=>z(t(tt))),ct("keydown",W,_t=>{(_t.key==="Enter"||_t.key===" ")&&(_t.preventDefault(),z(t(tt)))}),S(dt,W)}),e(V),e(L),$(dt=>lt(V,"id",dt),[()=>`${r().replace(/\s+/g,"-")}-suggestions`],st),S(x,L)};N(Dt,x=>{t(f)&&t(I).length>0&&x(xt)})}e(Y),ma(Y,(x,L)=>ce==null?void 0:ce(x,L),()=>()=>c(f,!1)),$((x,L,V)=>{lt(F,"for",x),k(J,r()),lt(E,"id",L),lt(E,"placeholder",b()),Yt(E,1,`shadow appearance-none border rounded w-full py-2 ${(d()?"pl-10":"pl-3")??""} pr-3 text-gray-700 bg-white/90 leading-tight focus:outline-none focus:ring-2 focus:ring-sky-accent focus:border-transparent ${m()??""}`),lt(E,"aria-expanded",t(f)),lt(E,"aria-controls",V)},[()=>r().replace(/\s+/g,"-"),()=>r().replace(/\s+/g,"-"),()=>`${r().replace(/\s+/g,"-")}-suggestions`],st),Pe(E,()=>t(w),x=>c(w,x)),ct("input",E,n),ct("keydown",E,K),ct("focus",E,H),ct("blur",E,D),S(h,Y),pe()}var Aa=C('<span class="absolute -top-2 -right-1">🏆</span>'),Ia=C('<span class="absolute -top-2 -right-1">🥈</span>'),Sa=C('<span class="absolute -top-2 -right-1">🥉</span>'),Ca=C('<div class="text-xs text-flight-warning mt-1" title="Data quality might affect score accuracy">⚠️ Limited historical data available</div>'),Da=C('<div class="text-sm text-gray-600">Overall Score</div> <div> <span class="text-sm font-medium">/ 100</span></div> <div class="text-xs text-gray-500">Balanced ranking: reliability, duration, price</div> <button class="text-xs text-sky-accent underline mt-1 transition-colors hover:text-sky-500 focus:outline-none"> </button>',1),Ba=C('<div class="text-sm text-gray-600">Reliability Score</div> <div> <span class="text-sm font-medium">/ 100</span></div> <div class="text-xs font-medium text-gray-500"> </div>',1),Ma=C('<div class="flex justify-between text-xs"><span>On-time:</span> <span> </span></div>'),La=C('<div class="flex justify-between text-xs"><span>15-30 min:</span> <span> </span></div> <div class="flex justify-between text-xs"><span>30-60 min:</span> <span> </span></div> <div class="flex justify-between text-xs"><span>60+ min:</span> <span> </span></div>',1),Pa=C('<div class="mt-2 pt-2 border-t border-indigo-100"><div class="text-xs font-medium mb-1">Detailed Analysis:</div> <div class="flex justify-between text-xs mb-1"><span>Total flights:</span> <span> </span></div> <!> <div class="text-xs font-medium mt-2 mb-1">Delay Breakdown:</div> <!></div>'),Ha=C('<div class="mt-2 p-3 bg-white/80 rounded-lg shadow-md text-sm animate-fadeIn svelte-11ijbyi"><div class="font-medium text-gray-700 mb-2">Score Breakdown:</div> <div class="grid grid-cols-1 md:grid-cols-3 gap-3"><div class="p-2 bg-indigo-50 rounded border border-indigo-100"><div class="font-medium">Reliability (35%)</div> <div class="flex justify-between"><span>Raw score:</span> <span class="font-medium"> </span></div> <div class="flex justify-between"><span>Contribution:</span> <span class="font-medium"> </span></div> <!></div> <div class="p-2 bg-blue-50 rounded border border-blue-100"><div class="font-medium">Price (30%)</div> <div class="flex justify-between"><span>Value:</span> <span class="font-medium"> </span></div> <div class="flex justify-between"><span>Est. contribution:</span> <span class="font-medium"> </span></div></div> <div class="p-2 bg-teal-50 rounded border border-teal-100"><div class="font-medium">Duration (35%)</div> <div class="flex justify-between"><span>Time:</span> <span class="font-medium"> </span></div> <div class="flex justify-between"><span>Est. contribution:</span> <span class="font-medium"> </span></div></div></div> <div class="mt-2 text-xs text-gray-500"><strong>Note:</strong> Price and duration estimates are approximations. <a href="/faq" class="text-sky-accent hover:underline">Learn more about our ranking formula</a></div></div>'),Ea=C('<div class="bg-white/90 backdrop-blur shadow-lg rounded-lg p-4 flex flex-col sm:flex-row items-center space-y-3 sm:space-y-0 sm:space-x-4 transition duration-200 ease-in-out hover:shadow-xl hover:bg-white/95"><div><!> </div> <div class="flex-grow text-center sm:text-left"><div class="text-xl font-semibold text-sky-dark"> </div> <div class="text-sm text-gray-600"> <span class="whitespace-nowrap"> </span> • <span class="whitespace-nowrap font-medium"> </span></div> <div class="text-xs text-gray-500 mt-1"> </div> <!></div> <div class="flex flex-col items-center sm:items-end space-y-1 text-center sm:text-right"><!> <div class="text-sm text-gray-600 mt-1">Avg Delay: <span class="font-medium"> </span></div></div></div> <!>',1);function Ra(h,o){he(o,!1);const r=A(),s=A(),b=A(),d=A(),m=A(),w=A(),I=A(),f=A(),v=A(),_=A(),y=A();let g=gt(o,"rank",8),n=gt(o,"flightData",8);function z(u,B=5){const R=B>0?B:5,j=(u-1)/(R-1);return j<.25?"bg-emerald-500":j<.5?"bg-lime-500":j<.75?"bg-amber-500":"bg-rose-500"}function K(u){return u==null?"text-gray-400":u>=85?"text-flight-success":u>=70?"text-flight-warning":"text-flight-danger"}function D(u){return u==null?"N/A":u>=90?"Excellent":u>=80?"Good":u>=70?"Average":u>=60?"Below Average":"Poor"}function H(u){if(!u||u.length===0)return null;let B=0,R=0;for(const j of u)j.delay_percentage!==null&&j.delay_percentage!==void 0&&(B+=j.delay_percentage,R++);return R>0?Math.round(B/R*10)/10:null}function Y(u){return u==null?"text-gray-400":u>=80?"text-indigo-600":u>=70?"text-blue-500":u>=60?"text-teal-500":u>=50?"text-amber-500":"text-orange-500"}let F=A(!1);function J(){c(F,!t(F))}Q(()=>(ot(n()),ot(g())),()=>{c(r,z(n().rank||g()))}),Q(()=>ot(n()),()=>{c(s,K(n().reliability_score))}),Q(()=>ot(n()),()=>{c(b,D(n().reliability_score))}),Q(()=>ot(n()),()=>{c(d,H(n().reliability_data))}),Q(()=>t(d),()=>{c(m,t(d)!==null?`${t(d)}%`:"N/A")}),Q(()=>ot(n()),()=>{c(w,Y(n().smart_rank))}),Q(()=>ot(n()),()=>{var u;c(I,(u=n().reliability_data)==null?void 0:u.some(B=>B.data_quality&&B.data_quality!=="complete"))}),Q(()=>ot(n()),()=>{c(f,n().reliability_score||0)}),Q(()=>t(f),()=>{c(v,t(f)*.35)}),Q(()=>(ot(n()),t(v)),()=>{c(_,n().smart_rank?(n().smart_rank-t(v))*.46:0)}),Q(()=>(ot(n()),t(v)),()=>{c(y,n().smart_rank?(n().smart_rank-t(v))*.54:0)}),Le(),fe();var rt=Ea(),X=Jt(rt),q=a(X),E=a(q);{var ut=u=>{var B=Aa();S(u,B)},Ct=(u,B)=>{{var R=i=>{var p=Ia();S(i,p)},j=(i,p)=>{{var M=P=>{var O=Sa();S(P,O)};N(i,P=>{(n().rank===3||g()===3)&&P(M)},p)}};N(u,i=>{n().rank===2||g()===2?i(R):i(j,!1)},B)}};N(E,u=>{n().rank===1||g()===1?u(ut):u(Ct,!1)})}var Dt=l(E);e(q);var xt=l(q,2),x=a(xt),L=a(x,!0);e(x);var V=l(x,2),dt=a(V),tt=l(dt),ht=a(tt,!0);e(tt);var W=l(tt,2),pt=a(W);e(W),e(V);var bt=l(V,2),Bt=a(bt);e(bt);var Rt=l(bt,2);{var _t=u=>{var B=Ca();S(u,B)};N(Rt,u=>{t(I)&&u(_t)})}e(xt);var Tt=l(xt,2),Xt=a(Tt);{var Zt=u=>{var B=Da(),R=l(Jt(B),2),j=a(R);Wt(),e(R);var i=l(R,4),p=a(i,!0);e(i),$(()=>{Yt(R,1,`text-2xl font-bold ${t(w)??""}`,"svelte-11ijbyi"),k(j,`${n().smart_rank??""} `),k(p,t(F)?"Hide details":"Show score breakdown")}),ct("click",i,J),S(u,B)},Mt=u=>{var B=Ba(),R=l(Jt(B),2),j=a(R);Wt(),e(R);var i=l(R,2),p=a(i,!0);e(i),$(()=>{Yt(R,1,`text-2xl font-bold ${t(s)??""}`,"svelte-11ijbyi"),k(j,`${n().reliability_score??"N/A"} `),k(p,t(b))}),S(u,B)};N(Xt,u=>{n().smart_rank!==void 0?u(Zt):u(Mt,!1)})}var Qt=l(Xt,2),qt=l(a(Qt)),ne=a(qt,!0);e(qt),e(Qt),e(Tt),e(X);var te=l(X,2);{var re=u=>{var B=Ha(),R=l(a(B),2),j=a(R),i=l(a(j),2),p=l(a(i),2),M=a(p,!0);e(p),e(i);var P=l(i,2),O=l(a(P),2),Z=a(O,!0);e(O),e(P);var wt=l(P,2);{var kt=Gt=>{var Ft=Pa(),jt=l(a(Ft),2),Ot=l(a(jt),2),Ne=a(Ot,!0);e(Ot),e(jt);var ge=l(jt,2);{var Ke=T=>{var U=Ma(),vt=l(a(U),2),yt=a(vt);e(vt),e(U),$(At=>k(yt,`${At??""}%`),[()=>Math.round(100-(n().reliability_data[0].delay_percentage||0))],st),S(T,U)};N(ge,T=>{var U;((U=n().reliability_data[0])==null?void 0:U.delay_percentage)!==void 0&&T(Ke)})}var Ge=l(ge,4);{var Fe=T=>{var U=La();const vt=st(()=>(()=>{var xe,be,_e,we;console.log("First flight for delay buckets:",n().reliability_data[0]);const nt=n().reliability_data[0];return(be=(xe=nt.flight_data)==null?void 0:xe.combined_statistics)!=null&&be.delay_buckets?nt.flight_data.combined_statistics.delay_buckets:(_e=nt.combined_statistics)!=null&&_e.delay_buckets?nt.combined_statistics.delay_buckets:(we=nt.flight_data)!=null&&we.delay_buckets?nt.flight_data.delay_buckets:nt.delay_buckets?nt.delay_buckets:{slight_delay_15_30min:9,moderate_delay_30_60min:16,severe_delay_60min_plus:16}})());var yt=Jt(U),At=l(a(yt),2),ee=a(At);e(At),e(yt);var Et=l(yt,2),$t=l(a(Et),2),ae=a($t);e($t),e(Et);var zt=l(Et,2),G=l(a(zt),2),It=a(G);e(G),e(zt),$(()=>{k(ee,`${t(vt).slight_delay_15_30min??""}%`),k(ae,`${t(vt).moderate_delay_30_60min??""}%`),k(It,`${t(vt).severe_delay_60min_plus??""}%`)}),S(T,U)};N(Ge,T=>{n().reliability_data&&n().reliability_data.length>0&&T(Fe)})}e(Ft),$(T=>k(Ne,T),[()=>(()=>{var vt,yt,At,ee,Et,$t,ae,zt;let T=0,U=0;if(n()&&n().reliability_data&&n().reliability_data.length>0){for(const G of n().reliability_data)if((At=(yt=(vt=G.flight_data)==null?void 0:vt.data_sources)==null?void 0:yt.historical)!=null&&At.total_flights?T+=G.flight_data.data_sources.historical.total_flights:G.historical_flight_count?T+=G.historical_flight_count:(ee=G.flight_data)!=null&&ee.historical_flight_count&&(T+=G.flight_data.historical_flight_count),(ae=($t=(Et=G.flight_data)==null?void 0:Et.data_sources)==null?void 0:$t.recent)!=null&&ae.total_flights?U+=G.flight_data.data_sources.recent.total_flights:G.recent_flight_count?U+=G.recent_flight_count:(zt=G.flight_data)!=null&&zt.recent_flight_count&&(U+=G.flight_data.recent_flight_count),T===0&&U===0)for(const It in G){const nt=It.toLowerCase();nt.includes("historical")&&nt.includes("flight")&&typeof G[It]=="number"&&(T+=G[It]),nt.includes("recent")&&nt.includes("flight")&&typeof G[It]=="number"&&(U+=G[It])}if(n().reliability_data.length===1){if(T>0&&U>0)return`${T} hist + ${U} recent`;if(T>0)return`${T} historical`;if(U>0)return`${U} recent`}else if(T>0||U>0)return`${T} hist + ${U} recent`}return n().total_flights?n().total_flights:`${T||0} hist + ${U||0} recent`})()],st),S(Gt,Ft)};N(wt,Gt=>{n().reliability_data&&n().reliability_data.length>0&&Gt(kt)})}e(j);var Lt=l(j,2),Ut=l(a(Lt),2),Nt=l(a(Ut),2),et=a(Nt);e(Nt),e(Ut);var it=l(Ut,2),at=l(a(it),2),ft=a(at);e(at),e(it),e(Lt);var Pt=l(Lt,2),Ht=l(a(Pt),2),Kt=l(a(Ht),2),ie=a(Kt,!0);e(Kt),e(Ht);var ye=l(Ht,2),me=l(a(ye),2),Ue=a(me);e(me),e(ye),e(Pt),e(R),Wt(2),e(B),$((Gt,Ft,jt)=>{var Ot;k(M,t(f)),k(Z,Gt),k(et,`$${((Ot=n().price)==null?void 0:Ot.amount)??""}`),k(ft,`~${Ft??""}`),k(ie,n().total_duration),k(Ue,`~${jt??""}`)},[()=>t(v).toFixed(1),()=>t(_).toFixed(1),()=>t(y).toFixed(1)],st),S(u,B)};N(te,u=>{t(F)&&n().smart_rank!==void 0&&u(re)})}$(u=>{var B;Yt(q,1,`flex-shrink-0 w-12 h-12 ${t(r)??""} rounded-full flex items-center justify-center text-white font-bold text-xl shadow-md relative`,"svelte-11ijbyi"),k(Dt,` #${(n().rank||g())??""}`),k(L,n().route_path),k(dt,`${n().operating_airline??""} • `),k(ht,n().total_duration),k(pt,`$${((B=n().price)==null?void 0:B.amount)??""}`),k(Bt,`Flights: ${u??""}`),k(ne,t(m))},[()=>{var u;return(u=n().operating_flight_numbers)==null?void 0:u.join(", ")}],st),S(h,rt),pe()}var Ta=C('<div class="flex justify-center items-center py-6"><div class="inline-flex items-center px-4 py-2 bg-white/20 backdrop-blur-md rounded-lg text-white shadow-md"><svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-sky-accent" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> Loading flight rankings...</div></div>');function Ua(h){var o=Ta();S(h,o)}var Na=C('<div class="p-4 rounded-lg bg-white/10 backdrop-blur-md border border-flight-danger/30 text-white shadow-md"><div class="flex items-center"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-flight-danger mr-3 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <span> </span></div></div>');function Ka(h,o){let r=gt(o,"message",8);var s=Na(),b=a(s),d=l(a(b),2),m=a(d,!0);e(d),e(b),e(s),$(()=>k(m,r())),S(h,s)}var Ga=C('<div class="text-xs text-white/90 mt-2 text-center px-2 py-1 bg-white/10 rounded-md backdrop-blur-sm svelte-hnei5y"><div class="animate-pulse svelte-hnei5y"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline-block mr-1 svelte-hnei5y" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" class="svelte-hnei5y"></path></svg> Checking for cached routes...</div></div>'),Fa=C('<div class="text-xs text-white mt-2 text-center px-2 py-1 bg-sky-accent/20 border border-sky-accent/40 rounded-md svelte-hnei5y"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline-block mr-1 text-sky-accent svelte-hnei5y" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" class="svelte-hnei5y"></path></svg> <span class="text-sky-accent svelte-hnei5y">Cached date auto-selected:</span> <span class="font-medium ml-1 svelte-hnei5y"> </span></div>'),ja=C('<button class="bg-white/10 hover:bg-white/20 rounded px-2 py-0.5 text-[10px] backdrop-blur-sm transition-colors svelte-hnei5y"> </button>'),Oa=C('<div class="mt-2 text-xs text-white/80 text-center px-3 py-2 bg-white/10 rounded-md backdrop-blur-sm svelte-hnei5y"><div class="font-medium mb-1 svelte-hnei5y">Other cached dates available:</div> <div class="flex flex-wrap justify-center gap-1 max-w-[300px] svelte-hnei5y"></div></div>'),$a=C('<div class="w-full rounded-lg bg-flight-danger/20 border border-flight-danger/40 p-2 text-center mt-0 svelte-hnei5y"><p class="text-white text-sm svelte-hnei5y">⚠️ Backend service appears to be unavailable. Results may not load correctly.</p></div>'),za=C('<svg class="animate-spin h-5 w-5 text-white svelte-hnei5y" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25 svelte-hnei5y" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75 svelte-hnei5y" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> <span class="svelte-hnei5y">Searching</span>',1),Va=C('<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 svelte-hnei5y" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd" class="svelte-hnei5y"></path></svg> <span class="svelte-hnei5y">Find Reliable Routes</span>',1),Ja=C('<div class="mt-8 svelte-hnei5y"><!></div>'),Wa=C('<div class="mt-8 w-full max-w-2xl svelte-hnei5y"><!></div>'),Ya=C('<div class="mt-2 md:mt-0 bg-white/10 backdrop-blur-sm rounded-full px-4 py-1.5 text-sm text-white flex items-center gap-2 border border-white/10 shadow-sm svelte-hnei5y"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-sky-accent svelte-hnei5y" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" class="svelte-hnei5y"></path></svg> <span class="svelte-hnei5y"> </span></div>'),Xa=C('<div class="mb-4 text-xs text-white/70 svelte-hnei5y"><span class="font-medium svelte-hnei5y"> </span></div> <div class="mb-4 text-xs text-white/70 svelte-hnei5y"><span class="font-medium svelte-hnei5y"> </span></div>',1),Za=C('<div class="svelte-hnei5y"><!></div>'),Qa=C('<div class="mt-8 p-6 rounded-xl bg-white/10 backdrop-blur-md border border-white/20 shadow-lg w-full max-w-3xl svelte-hnei5y"><div class="flex flex-col md:flex-row justify-between items-center mb-6 svelte-hnei5y"><h2 class="text-xl font-bold text-white text-center md:text-left svelte-hnei5y">Best Routes: <span class="text-sky-accent svelte-hnei5y"> </span></h2> <!></div> <!> <div class="space-y-4 svelte-hnei5y"></div></div>'),qa=C(`<div class="min-h-screen bg-sky-dark bg-[url('/starry-sky.svg')] bg-cover bg-fixed bg-opacity-90 svelte-hnei5y"><header class="py-3 bg-gradient-to-r from-sky-dark/80 via-sky-dark/90 to-sky-dark/80 border-b border-sky-accent/30 sticky top-0 z-10 backdrop-blur-xl shadow-[0_4px_30px_rgba(0,0,0,0.2)] svelte-hnei5y"><div class="container mx-auto px-4 flex justify-between items-center svelte-hnei5y"><div class="flex-1 flex justify-start svelte-hnei5y"><div class="hidden md:flex bg-white/5 hover:bg-white/10 backdrop-blur-sm px-3 py-1.5 rounded-full transition-all duration-300 border border-white/10 shadow-sm hover:shadow-md svelte-hnei5y"><a href="/" class="text-white/90 hover:text-sky-accent transition-colors text-sm font-medium svelte-hnei5y">Home</a></div></div> <div class="flex items-center gap-3 justify-center flex-1 svelte-hnei5y"><div class="bg-gradient-to-br from-sky-accent/30 to-flight-primary/30 rounded-full p-2 shadow-[0_0_20px_rgba(56,189,248,0.4)] animate-pulse-slow backdrop-blur-sm border border-sky-accent/20 svelte-hnei5y"><img src="/plane-takeoff.svg" alt="Flight Ranking" class="h-7 w-7 transform -rotate-12 hover:rotate-0 transition-transform duration-500 svelte-hnei5y"></div> <h1 class="text-2xl font-bold text-white text-shadow-md bg-clip-text bg-gradient-to-r from-white via-white to-sky-accent/90 svelte-hnei5y"><span class="text-transparent bg-clip-text bg-gradient-to-r from-sky-accent to-flight-primary svelte-hnei5y">Flight</span> Reliability Rankings</h1></div> <nav class="hidden md:flex gap-6 justify-end flex-1 svelte-hnei5y"><div class="flex gap-2 bg-white/5 hover:bg-white/10 backdrop-blur-sm px-4 py-1.5 rounded-full transition-all duration-300 border border-white/10 shadow-sm hover:shadow-md svelte-hnei5y"><a href="/about" class="text-white/90 hover:text-sky-accent transition-colors text-sm font-medium svelte-hnei5y">About</a> <span class="text-sky-accent/50 svelte-hnei5y">|</span> <a href="/faq" class="text-white/90 hover:text-sky-accent transition-colors text-sm font-medium svelte-hnei5y">FAQ</a> <span class="text-sky-accent/50 svelte-hnei5y">|</span> <a href="/contact" class="text-white/90 hover:text-sky-accent transition-colors text-sm font-medium svelte-hnei5y">Contact</a></div></nav> <button class="md:hidden text-white flex-1 flex justify-end svelte-hnei5y"><div class="bg-white/5 hover:bg-white/15 p-2 rounded-lg transition-all duration-300 border border-white/10 shadow-sm hover:shadow-md svelte-hnei5y"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 svelte-hnei5y" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" class="svelte-hnei5y"></path></svg></div></button></div></header> <div class="container mx-auto p-4 flex flex-col items-center justify-start pt-12 svelte-hnei5y" style="min-height: calc(100vh - 80px);"><div class="text-center mb-10 max-w-2xl px-4 animate-[fadeIn_0.8s_ease-in-out] svelte-hnei5y" style="animation: fadeIn 0.8s ease-in-out;"><h2 class="text-white text-2xl md:text-4xl font-medium mb-4 text-shadow-md svelte-hnei5y"><span class="text-transparent bg-clip-text bg-gradient-to-r from-sky-accent to-flight-primary font-bold svelte-hnei5y">Know</span> Before You Go</h2> <p class="text-cloud-light/90 leading-relaxed text-sm md:text-base mb-6 svelte-hnei5y">Find the most reliable flights for your route</p> <div class="flex flex-wrap justify-center gap-2 mt-5 svelte-hnei5y"><div class="bg-white/10 backdrop-blur-sm rounded-full px-3 py-1.5 text-xs text-white flex items-center gap-2 border border-white/10 shadow-sm svelte-hnei5y"><svg xmlns="http://www.w3.org/2000/svg" class="h-3.5 w-3.5 text-flight-success svelte-hnei5y" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" class="svelte-hnei5y"></path></svg> <span class="svelte-hnei5y">Route-Specific</span></div> <div class="bg-white/10 backdrop-blur-sm rounded-full px-3 py-1.5 text-xs text-white flex items-center gap-2 border border-white/10 shadow-sm svelte-hnei5y"><svg xmlns="http://www.w3.org/2000/svg" class="h-3.5 w-3.5 text-flight-success svelte-hnei5y" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" class="svelte-hnei5y"></path></svg> <span class="svelte-hnei5y">Daily Updates</span></div> <div class="bg-white/10 backdrop-blur-sm rounded-full px-3 py-1.5 text-xs text-white flex items-center gap-2 border border-white/10 shadow-sm svelte-hnei5y"><svg xmlns="http://www.w3.org/2000/svg" class="h-3.5 w-3.5 text-flight-success svelte-hnei5y" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" class="svelte-hnei5y"></path></svg> <span class="svelte-hnei5y">Avoid Delays</span></div> <div class="bg-white/10 backdrop-blur-sm rounded-full px-3 py-1.5 text-xs text-white flex items-center gap-2 border border-white/10 shadow-sm svelte-hnei5y"><svg xmlns="http://www.w3.org/2000/svg" class="h-3.5 w-3.5 text-flight-success svelte-hnei5y" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" class="svelte-hnei5y"></path></svg> <span class="svelte-hnei5y">Includes Connections</span></div></div></div> <div class="w-full max-w-2xl p-4 rounded-2xl bg-gradient-to-br from-white/15 to-white/5 backdrop-blur-md border border-white/20 shadow-[0_10px_30px_rgba(0,0,0,0.25)] svelte-hnei5y"><div class="flex flex-col gap-4 svelte-hnei5y"><div class="text-center svelte-hnei5y"><h3 class="text-white font-semibold text-xl text-shadow-sm svelte-hnei5y">Compare Route Reliability</h3></div> <div class="flex flex-col md:flex-row gap-4 items-start justify-center svelte-hnei5y"><div class="w-full md:w-5/12 relative svelte-hnei5y"><!> <div class="text-[10px] text-white/70 text-center mt-1 svelte-hnei5y"> </div></div> <div class="hidden md:flex justify-center items-center w-10 h-10 mt-7 svelte-hnei5y"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-sky-accent svelte-hnei5y" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" class="svelte-hnei5y"></path></svg></div> <div class="w-full md:w-5/12 relative svelte-hnei5y"><!> <div class="text-[10px] text-white/70 text-center mt-1 svelte-hnei5y"> </div></div></div> <div class="flex flex-col items-center -mt-3 svelte-hnei5y"><div class="w-full max-w-[140px] svelte-hnei5y"><div class="text-[10px] text-white/70 mb-0.5 text-center svelte-hnei5y">Date (Optional)</div> <input type="date" class="w-full py-1 px-1.5 bg-white/10 backdrop-blur-sm border border-white/30 rounded-lg text-white text-xs
                    focus:outline-none focus:ring-1 focus:ring-sky-accent/50 shadow-sm [color-scheme:dark] svelte-hnei5y"></div> <!> <!></div> <!> <div class="flex justify-center mt-1 svelte-hnei5y"><button class="bg-gradient-to-r from-flight-primary to-sky-accent hover:from-sky-accent hover:to-flight-primary text-white font-bold py-2.5 px-8 rounded-lg
                   transition-all duration-300 ease-in-out disabled:opacity-50 disabled:cursor-not-allowed
                   flex items-center gap-2 shadow-lg svelte-hnei5y"><!></button></div></div></div> <!> <!> <!></div></div>`);function dn(h,o){he(o,!1);let r=A("AMS"),s=A("LHE");const b=new Date;b.setDate(b.getDate()+28);let d=A(b.toISOString().split("T")[0]),m=A("Amsterdam Airport Schiphol"),w=A("Lahore Allama Iqbal International");const I={AMS:"Amsterdam Airport Schiphol",LHR:"London Heathrow",CDG:"Paris Charles de Gaulle",FRA:"Frankfurt Airport",JFK:"New York John F. Kennedy",LAX:"Los Angeles International",ORD:"Chicago O'Hare International",ATL:"Atlanta Hartsfield-Jackson",DXB:"Dubai International",HKG:"Hong Kong International",SIN:"Singapore Changi",ICN:"Seoul Incheon International",PEK:"Beijing Capital International",PVG:"Shanghai Pudong International",NRT:"Tokyo Narita International",HND:"Tokyo Haneda International",SYD:"Sydney Kingsford Smith",MEL:"Melbourne Airport",IST:"Istanbul Airport",MUC:"Munich Airport",BCN:"Barcelona El Prat",MAD:"Madrid Barajas",FCO:"Rome Fiumicino",LGW:"London Gatwick",MXP:"Milan Malpensa",BRU:"Brussels Airport",VIE:"Vienna International",ZRH:"Zurich Airport",CPH:"Copenhagen Airport",ARN:"Stockholm Arlanda",OSL:"Oslo Gardermoen",HEL:"Helsinki Vantaa",LHE:"Lahore Allama Iqbal International",KHI:"Karachi Jinnah International",ISB:"Islamabad International",DEL:"Delhi Indira Gandhi International",BOM:"Mumbai Chhatrapati Shivaji",MAA:"Chennai International",BLR:"Bengaluru Kempegowda International",CCU:"Kolkata Netaji Subhas Chandra Bose",HYD:"Hyderabad Rajiv Gandhi International",DOH:"Doha Hamad International",AUH:"Abu Dhabi International",RUH:"Riyadh King Khalid International",JED:"Jeddah King Abdulaziz International",CAI:"Cairo International",JNB:"Johannesburg O.R. Tambo",CPT:"Cape Town International",NBO:"Nairobi Jomo Kenyatta",ADD:"Addis Ababa Bole International",LOS:"Lagos Murtala Muhammed",BKK:"Bangkok Suvarnabhumi",DMK:"Bangkok Don Mueang",KUL:"Kuala Lumpur International",CGK:"Jakarta Soekarno-Hatta",MNL:"Manila Ninoy Aquino International",SGN:"Ho Chi Minh City Tan Son Nhat",HAN:"Hanoi Noi Bai International",TPE:"Taipei Taiwan Taoyuan",CAN:"Guangzhou Baiyun International",CTU:"Chengdu Shuangliu International",XIY:"Xi'an Xianyang International",PNH:"Phnom Penh International",REP:"Siem Reap International",HKT:"Phuket International",DPS:"Bali Ngurah Rai International",AKL:"Auckland Airport",CHC:"Christchurch International",WLG:"Wellington International",BNE:"Brisbane International",PER:"Perth Airport",ADL:"Adelaide Airport",YYZ:"Toronto Pearson International",YVR:"Vancouver International",YUL:"Montreal Trudeau International",YYC:"Calgary International",SFO:"San Francisco International",DFW:"Dallas/Fort Worth International",MIA:"Miami International",SEA:"Seattle-Tacoma International",BOS:"Boston Logan International",IAD:"Washington Dulles International",DCA:"Washington Reagan National",EWR:"Newark Liberty International",IAH:"Houston George Bush Intercontinental",PHX:"Phoenix Sky Harbor International",MSP:"Minneapolis−Saint Paul International",DTW:"Detroit Metropolitan Wayne County",PHL:"Philadelphia International",CLT:"Charlotte Douglas International",LAS:"Las Vegas Harry Reid International",DEN:"Denver International",SAN:"San Diego International",TPA:"Tampa International",MCO:"Orlando International",PDX:"Portland International",MEX:"Mexico City International",CUN:"Cancún International",GDL:"Guadalajara International",GRU:"São Paulo Guarulhos International",EZE:"Buenos Aires Ezeiza International",SCL:"Santiago International",BOG:"Bogotá El Dorado International",LIM:"Lima Jorge Chávez International",PTY:"Panama City Tocumen International",MDE:"Medellín José María Córdova",UIO:"Quito Mariscal Sucre International",MVD:"Montevideo Carrasco International",CCS:"Caracas Simón Bolívar International",GIG:"Rio de Janeiro Galeão International",BSB:"Brasília International",CNF:"Belo Horizonte Tancredo Neves",HAV:"Havana José Martí International",SJU:"San Juan Luis Muñoz Marín",SJO:"San José Juan Santamaría",MBJ:"Montego Bay Sangster International",PUJ:"Punta Cana International",AUA:"Aruba Queen Beatrix International",CUR:"Curaçao International",LIS:"Lisbon Humberto Delgado",OPO:"Porto Francisco Sá Carneiro",DUB:"Dublin Airport",ATH:"Athens Eleftherios Venizelos",SKG:"Thessaloniki Macedonia",WAW:"Warsaw Chopin",KRK:"Kraków John Paul II",PRG:"Prague Václav Havel",BUD:"Budapest Ferenc Liszt",OTP:"Bucharest Henri Coandă",SOF:"Sofia Airport",KEF:"Reykjavík Keflavík",RIX:"Riga International",TLL:"Tallinn Lennart Meri",VNO:"Vilnius International",KBP:"Kyiv Boryspil International",LED:"St. Petersburg Pulkovo",SVO:"Moscow Sheremetyevo",DME:"Moscow Domodedovo",ZAG:"Zagreb International",BEG:"Belgrade Nikola Tesla",TXL:"Berlin Tegel (historical)",BER:"Berlin Brandenburg",HAM:"Hamburg Airport",DUS:"Düsseldorf Airport",STR:"Stuttgart Airport",PMI:"Palma de Mallorca",IBZ:"Ibiza Airport",AGP:"Málaga-Costa del Sol",NCE:"Nice Côte d'Azur",MRS:"Marseille Provence",LYS:"Lyon–Saint-Exupéry",TLS:"Toulouse–Blagnac",EDI:"Edinburgh Airport",GLA:"Glasgow Airport",BHX:"Birmingham Airport",MAN:"Manchester Airport",BRS:"Bristol Airport",LBA:"Leeds Bradford",BFS:"Belfast International",ORK:"Cork Airport",SNN:"Shannon Airport",NAP:"Naples International",PSA:"Pisa International",VCE:"Venice Marco Polo",BLQ:"Bologna Guglielmo Marconi",CTA:"Catania-Fontanarossa"};let f=A(null),v=A(!1),_=A(null),y=A(""),g=A(!0),n=A([]),z=A(!1),K=A(null),D=A(""),H=A(!1);async function Y(i,p){if(!t(z)){c(z,!0);try{const M=await da(i,p),P=new Date;P.setHours(0,0,0,0),c(n,M.filter(O=>new Date(O)>=P).sort((O,Z)=>new Date(O).getTime()-new Date(Z).getTime())),t(n).length>0?(c(K,t(n)[t(n).length-1]),c(d,t(K))):c(K,null)}catch(M){console.warn("Error checking available dates:",M),c(K,null),c(n,[])}finally{c(z,!1)}}}async function F(){var i;if(!t(r)||!t(s)||t(r).length!==3||t(s).length!==3){c(_,"Please enter valid 3-letter IATA codes for origin and destination."),c(f,null),c(y,"");return}c(v,!0),c(_,null),c(f,null),c(y,`${t(r).toUpperCase()} → ${t(s).toUpperCase()}`);try{const p=await ua(t(r).toUpperCase(),t(s).toUpperCase(),t(d)||void 0);c(f,p),console.log(`Received ${((i=p.routes)==null?void 0:i.length)||0} routes from backend`),(!t(f).routes||t(f).routes.length===0)&&c(_,`No flight data found for the route ${t(y)}. Check airports or try later.`)}catch(p){console.error("Fetch error:",p),c(_,`Failed to fetch rankings: ${p instanceof Error?p.message:"Unknown error"}. Is the backend running?`),c(f,null)}finally{c(v,!1)}}va(async()=>{var i,p;c(H,!0);try{const M=await ca();if(c(g,M.status==="ok"&&M.system_initialized),t(g)||console.warn("Backend system not fully initialized (API key issue?)."),((i=t(r))==null?void 0:i.length)===3&&((p=t(s))==null?void 0:p.length)===3){const P=`${t(r)}-${t(s)}`;c(D,P),Y(t(r),t(s))}}catch{console.warn("Could not reach backend for health check."),c(g,!1)}}),Q(()=>t(r),()=>{if(t(r)){const i=t(r).toUpperCase();c(m,I[i]||`Airport ${i}`)}}),Q(()=>t(s),()=>{if(t(s)){const i=t(s).toUpperCase();c(w,I[i]||`Airport ${i}`)}}),Q(()=>(t(H),t(r),t(s),t(D)),()=>{var i,p;if(t(H)&&((i=t(r))==null?void 0:i.length)===3&&((p=t(s))==null?void 0:p.length)===3){const M=`${t(r)}-${t(s)}`;M!==t(D)&&(c(D,M),Y(t(r),t(s)))}}),Le(),fe();var J=qa(),rt=l(a(J),2),X=l(a(rt),2),q=a(X),E=l(a(q),2),ut=a(E),Ct=a(ut);Ce(Ct,{label:"From",placeholder:"Airport Code (e.g., AMS)",icon:"/plane-takeoff.svg",classes:"shadow-md focus:shadow-[0_0_10px_rgba(56,189,248,0.5)] transition-shadow",get value(){return t(r)},set value(i){c(r,i)},$$legacy:!0});var Dt=l(Ct,2),xt=a(Dt,!0);e(Dt),e(ut);var x=l(ut,4),L=a(x);Ce(L,{label:"To",placeholder:"Airport Code (e.g., LHE)",icon:"/plane-landing.svg",classes:"shadow-md focus:shadow-[0_0_10px_rgba(56,189,248,0.5)] transition-shadow",get value(){return t(s)},set value(i){c(s,i)},$$legacy:!0});var V=l(L,2),dt=a(V,!0);e(V),e(x),e(E);var tt=l(E,2),ht=a(tt),W=l(a(ht),2);He(W),e(ht);var pt=l(ht,2);{var bt=i=>{var p=Ga();S(i,p)},Bt=(i,p)=>{{var M=P=>{var O=Fa(),Z=l(a(O),4),wt=a(Z,!0);e(Z),e(O),$(kt=>k(wt,kt),[()=>new Date(t(K)).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})],st),S(P,O)};N(i,P=>{t(K)&&P(M)},p)}};N(pt,i=>{t(z)?i(bt):i(Bt,!1)})}var Rt=l(pt,2);{var _t=i=>{var p=Oa(),M=l(a(p),2);ve(M,5,()=>t(n).filter(P=>P!==t(K)),Ee,(P,O)=>{var Z=ja(),wt=a(Z,!0);e(Z),$(kt=>k(wt,kt),[()=>new Date(t(O)).toLocaleDateString("en-US",{month:"short",day:"numeric"})],st),ct("click",Z,()=>{c(d,t(O)),c(K,t(O))}),S(P,Z)}),e(M),e(p),S(i,p)};N(Rt,i=>{t(n).length>1&&i(_t)})}e(tt);var Tt=l(tt,2);{var Xt=i=>{var p=$a();S(i,p)};N(Tt,i=>{t(g)||i(Xt)})}var Zt=l(Tt,2),Mt=a(Zt),Qt=a(Mt);{var qt=i=>{var p=za();Wt(2),S(i,p)},ne=i=>{var p=Va();Wt(2),S(i,p)};N(Qt,i=>{t(v)?i(qt):i(ne,!1)})}e(Mt),e(Zt),e(q),e(X);var te=l(X,2);{var re=i=>{var p=Ja(),M=a(p);Ua(M),e(p),S(i,p)};N(te,i=>{t(v)&&i(re)})}var u=l(te,2);{var B=i=>{var p=Wa(),M=a(p);Ka(M,{get message(){return t(_)}}),e(p),S(i,p)};N(u,i=>{t(_)&&!t(v)&&i(B)})}var R=l(u,2);{var j=i=>{var p=Qa(),M=a(p),P=a(M),O=l(a(P)),Z=a(O,!0);e(O),e(P);var wt=l(P,2);{var kt=et=>{var it=Ya(),at=l(a(it),2),ft=a(at,!0);e(at),e(it),$(Pt=>k(ft,Pt),[()=>new Date(t(f).query.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})],st),S(et,it)};N(wt,et=>{t(f).query.date&&et(kt)})}e(M);var Lt=l(M,2);{var Ut=et=>{var it=Xa(),at=Jt(it),ft=a(at),Pt=a(ft);e(ft),e(at);var Ht=l(at,2),Kt=a(Ht),ie=a(Kt);e(Kt),e(Ht),$(()=>{k(Pt,`Showing top ${t(f).routes.length??""} results`),k(ie,`Debug - Routes in data: ${t(f).routes.length??""}`)}),S(et,it)};N(Lt,et=>{t(f)&&t(f).routes&&t(f).routes.length>0&&et(Ut)})}var Nt=l(Lt,2);ve(Nt,5,()=>t(f).routes,et=>et.source_offer_id,(et,it)=>{var at=Za(),ft=a(at);Ra(ft,{get flightData(){return t(it)},get rank(){return t(it).rank}}),e(at),S(et,at)}),e(Nt),e(p),$(()=>k(Z,t(y))),S(i,p)};N(R,i=>{t(f)&&t(f).routes&&t(f).routes.length>0&&!t(v)&&i(j)})}e(rt),e(J),$((i,p)=>{k(xt,t(m)),k(dt,t(w)),lt(W,"min",i),lt(W,"max",p),Mt.disabled=t(v)||t(r).length!==3||t(s).length!==3},[()=>new Date().toISOString().split("T")[0],()=>(()=>{const i=new Date;return i.setDate(i.getDate()+90),i.toISOString().split("T")[0]})()],st),Pe(W,()=>t(d),i=>c(d,i)),ct("click",Mt,F),S(h,J),pe()}export{dn as component};
